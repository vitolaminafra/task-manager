<div
  class="h-full flex flex-col bg-white border border-gray-200 shadow-2xs rounded-xl p-4 md:p-5 dark:bg-neutral-900 dark:border-neutral-700 dark:shadow-neutral-700/70"
  [ngClass]="{ 'opacity-60': task!.isCompleted }"
>
  <div class="flex justify-between">
    <h3
      class="text-lg font-bold text-gray-800 dark:text-white cursor-pointer"
      [ngClass]="{ 'line-through': task!.isCompleted }"
      (click)="openTaskModal()"
    >
      {{ task!.title | truncate }}
    </h3>
    <app-priority-badge
      [priority]="task!.isCompleted ? PriorityEnum.DONE : task!.priority"
    />
  </div>
  <p
    class="mt-1 text-xs font-medium uppercase text-gray-500 dark:text-neutral-500"
    [ngClass]="{ 'line-through': task!.isCompleted }"
  >
    {{ task!.subtitle ? (task!.subtitle | truncate) : "" }}
  </p>
  <p
    class="mt-2 text-gray-500 dark:text-neutral-400"
    [ngClass]="{ 'line-through': task!.isCompleted }"
  >
    {{ task!.description | truncate }}
  </p>
  <div
    class="flex justify-between items-end"
    [ngClass]="{ 'mt-4': !task!.subtitle }"
  >
    <span
      class="py-1 inline-flex justify-items-start items-end size-11 rounded-full text-gray-600 dark:text-blue-500"
    >
      <svg
        *ngIf="task!.attachment"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-image-icon lucide-image"
      >
        <rect width="18" height="18" x="3" y="3" rx="2" ry="2" />
        <circle cx="9" cy="9" r="2" />
        <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21" />
      </svg>
    </span>
    <app-my-button
      *ngIf="!task!.isCompleted"
      [buttonTypology]="ButtonTypologyEnum.TEXT_ONLY"
      [text]="'Mark as done'"
      [buttonColor]="ButtonColorEnum.TEAL"
      (onClick$)="markAsCompleted()"
    />
  </div>
</div>
